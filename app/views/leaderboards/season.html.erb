<div class="max-w-4xl mx-auto">
  <div class="mb-6">
    <%= link_to group_season_path(@group, @season), class: "text-soundcloud-orange hover:text-soundcloud-coral inline-flex items-center font-semibold transition-colors" do %>
      <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
      Back to Season <%= @season.number %>
    <% end %>
  </div>

  <div class="glass-card p-8">
    <h1 class="text-4xl font-bold mb-12 text-white">üèÜ Season <%= @season.number %> Leaderboard</h1>

    <% if @rankings.any? %>
      <%# Top 3 Podium %>
      <div class="grid grid-cols-3 gap-6 mb-12">
        <% [1, 0, 2].each do |index| %>
          <% if ranking = @rankings[index] %>
            <div class="<%= index == 0 ? 'order-2' : index == 1 ? 'order-1' : 'order-3' %>">
              <div class="glass-medium rounded-2xl p-6 border <%= index == 0 ? 'border-soundcloud-orange shadow-glow-orange' : 'border-white/10' %> text-center transform hover:scale-105 transition-all duration-300">
                <div class="text-6xl mb-4">
                  <%= index == 0 ? "ü•á" : index == 1 ? "ü•à" : "ü•â" %>
                </div>
                <p class="font-bold text-2xl mb-3 text-white"><%= ranking[:user].display_name %></p>
                <p class="text-5xl font-bold mb-3 <%= index == 0 ? 'gradient-orange bg-clip-text text-transparent' : 'text-soundcloud-orange' %>">
                  <%= ranking[:total_score].round(2) %>
                </p>
                <div class="text-sm text-gray-400 font-semibold">
                  <p><%= pluralize(ranking[:games_played], "game") %></p>
                  <p>Avg: <%= ranking[:average_score] %></p>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>

      <%# Full Rankings %>
      <div class="space-y-4">
        <h2 class="text-2xl font-bold mb-6 text-white">Full Standings</h2>
        <% @rankings.each_with_index do |ranking, index| %>
          <div class="glass-medium rounded-2xl p-5 border <%= index == 0 ? 'border-soundcloud-orange shadow-glow-orange' : 'border-white/10' %> hover:border-soundcloud-orange/30 transition-all duration-300">
            <div class="flex items-center justify-between">
              <div class="flex items-center space-x-5">
                <span class="text-3xl font-bold w-12 text-center">
                  <% if index == 0 %>
                    ü•á
                  <% elsif index == 1 %>
                    ü•à
                  <% elsif index == 2 %>
                    ü•â
                  <% else %>
                    <span class="text-gray-500">#<%= index + 1 %></span>
                  <% end %>
                </span>
                <div>
                  <p class="font-bold text-xl text-white"><%= ranking[:user].display_name %></p>
                  <p class="text-sm text-gray-400 font-medium">
                    <%= pluralize(ranking[:games_played], "game") %> played ‚Ä¢ 
                    <%= ranking[:average_score] %> avg
                  </p>
                </div>
              </div>
              <div class="text-right">
                <p class="text-4xl font-bold <%= index == 0 ? 'gradient-orange bg-clip-text text-transparent' : 'text-soundcloud-orange' %>"><%= ranking[:total_score].round(2) %></p>
                <p class="text-xs text-gray-400 font-semibold">total points</p>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="text-gray-400 text-center py-12 text-lg">No data yet for this season</p>
    <% end %>
  </div>
</div>
